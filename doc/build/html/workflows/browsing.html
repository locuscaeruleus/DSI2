

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Browsing the Streamline Database &mdash; dsi2 0.0.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="dsi2 0.0.1 documentation" href="../index.html" />
    <link rel="prev" title="Creating a streamline aggregator" href="../analysis/aggregation.html" /> 
  </head>
  <body>
    <div class="header-wrapper">
      <div class="header">
        <div class="headertitle"><a
          href="../index.html">dsi2 0.0.1 documentation</a></div>
        <div class="rel">
          <a href="../analysis/aggregation.html" title="Creating a streamline aggregator"
             accesskey="P">previous</a> |
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="browsing-the-streamline-database">
<h1>Browsing the Streamline Database<a class="headerlink" href="#browsing-the-streamline-database" title="Permalink to this headline">¶</a></h1>
<p>The goal of this workflow is to load some data into the VoxelBrowser GUI
and be able to interactively query and cluster streamlines. This process
requires two steps:</p>
<blockquote>
<div><ol class="arabic simple">
<li>The Browser Builder GUI is uset to select a data source and streamline aggregation method</li>
<li>The Voxel Browser is launched and used to query spatial coordinates</li>
</ol>
</div></blockquote>
<div class="section" id="the-browser-builder-creating-a-data-source">
<h2>The Browser Builder: Creating a Data Source<a class="headerlink" href="#the-browser-builder-creating-a-data-source" title="Permalink to this headline">¶</a></h2>
<p>Launching the BrowserBuilder, you can select which individual datasets will be
queried when you open a VoxelBrowser.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/annotated_browser_builder.png"><img alt="browser builder" src="../_images/annotated_browser_builder.png" style="width: 718.8px; height: 478.0px;" /></a>
</div>
<div class="section" id="red-box-data-source-and-aggregator">
<h3>Red box: Data source and aggregator<a class="headerlink" href="#red-box-data-source-and-aggregator" title="Permalink to this headline">¶</a></h3>
<p>Will you be loading data from your local hard drive or querying a remote
database? You can choose either of these options from the <em>Data Source</em>
listbox. Next, you select which streamline aggregation method you will
use to label the streamlines returned by your searches in the Voxel Browser.
In this example we will choose a Region Label Aggregator, which groups
streamlines based on which regions they connect. Other aggregation options
include k-means clustering or DiPy&#8217;s QuickBundles algorithm.</p>
</div>
<div class="section" id="blue-box-specifying-data-source-properties">
<h3>Blue Box: Specifying data source properties<a class="headerlink" href="#blue-box-specifying-data-source-properties" title="Permalink to this headline">¶</a></h3>
<p>These fields can be used to search for specific properties of datasets.
If a field without an arrow in front of it is left blank, it means that
anything is OK for that field. If there are arrows in front of boxes,
this means that a value matching <em>any</em> of the arrowed boxes will be a
match.</p>
<p>Currently most of these search fields do nothing. For most uses, <tt class="docutils literal"><span class="pre">scan_id</span></tt>
<tt class="docutils literal"><span class="pre">study</span></tt> and <tt class="docutils literal"><span class="pre">scan_group</span></tt> are sufficient to find the data you need.
Once your specifications are filled out here, click <strong>Search For Datasets</strong>
in the magenta box. This will populate the list of results.</p>
</div>
<div class="section" id="green-box-matching-datasets">
<h3>Green Box: Matching datasets<a class="headerlink" href="#green-box-matching-datasets" title="Permalink to this headline">¶</a></h3>
<p>Datasets matching your search criteria are listed here. The first few columns
present information about the individual who was scanned. The rest offer
options on how the streamlines from each dataset will be displayed in the
Voxel Browser. If the <em>dynamic color clusters</em> column is checked, then
the colormap from the <em>color map</em> column will be applied to that dataset&#8217;s
streamlines. This is useful for interactive clustering in the Voxel Browser
since you can see which group each streamline was assigned to based on its
color. On the other hand, if you are interested in plotting streamlines
that are colored only according to which individual they came from, then
<em>dynamic color clusters</em> should be unchecked and a <em>static color</em> can be
assigned.</p>
<p>If there are datasets in the list that you would not like to be included
in your Voxel Browser, click anywhere in the row and click the <em>delete row</em>
button to the right of the superimposed green arrow. Once you are happy with
the list of datasets, click the <em>Launch sphere browser</em> button in the majenta
box.</p>
</div>
</div>
<div class="section" id="the-voxel-browser-querying-and-visualizing-streamlines">
<h2>The Voxel Browser: Querying and visualizing streamlines<a class="headerlink" href="#the-voxel-browser-querying-and-visualizing-streamlines" title="Permalink to this headline">¶</a></h2>
<p>The Voxel Browser lets a user choose a set of coordinates, queries the data source
at those coordinates, then aggregates the streamlines before displaying them in the
3D viewer.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/vb_annot.png"><img alt="browser builder" src="../_images/vb_annot.png" style="width: 779.6px; height: 669.2px;" /></a>
</div>
<div class="section" id="selecting-coordinates-using-a-sphere">
<h3>Selecting Coordinates: Using a sphere<a class="headerlink" href="#selecting-coordinates-using-a-sphere" title="Permalink to this headline">¶</a></h3>
<p>A sphere is a handy way to select a set of coordinates. Sliders in the green
box let you move the sphere in x, y and z coordinates and increase its
radius. Moving these will directly affect the visualization of your search
coordinates, which appear as red cubes (circled in the 3D viewer in orange).</p>
</div>
<div class="section" id="selecting-coordinates-from-a-roi">
<h3>Selecting Coordinates: From a ROI<a class="headerlink" href="#selecting-coordinates-from-a-roi" title="Permalink to this headline">¶</a></h3>
<p>If there is a set of voxels defined in a NIfTI file, you can load them into the
browser by selecting <em class="menuselection">Data ‣ Search from NIfTI</em>. You will see
the following dialog</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/roi_search.png"><img alt="browser builder" src="../_images/roi_search.png" style="width: 195.2px; height: 126.4px;" /></a>
</div>
<p>Select a .nii file in the <em class="guilabel">Filepath</em> box. If there are multiple regions
in the file you&#8217;d like to include (for example a region labeled 1 and a separate
region labeled 2) you can right click the arrow to include a second region. If you&#8217;d
like to expand the regions in space, you can dilate them by n voxels. Clicking <em class="guilabel">OK</em>
will clear any previous search coordinates and render your new coordinates in the 3D viewer.</p>
</div>
<div class="section" id="visualizing-streamlines">
<h3>Visualizing Streamlines<a class="headerlink" href="#visualizing-streamlines" title="Permalink to this headline">¶</a></h3>
<p>Widgets in the magenta box provide control over how streamlines are plotted. If
<em class="guilabel">Auto Aggregate</em> is selected, the cluster assignments will be updated
any time one of the aggregation-related widgets is interacted with. In the case
of this image the aggregator is a k-means aggregator, which has two parameters.
<tt class="docutils literal"><span class="pre">k</span></tt>, or the number of clusters to define, and <tt class="docutils literal"><span class="pre">min_tracks</span></tt> as the minimum
number of streamlines that must be assigned to a cluster before the cluster can
be considered legitimate. As these two sliders are dragged around, the new cluster
assignments are visible in the blue box. The color of each row in this list corresponds
to the color of the streamlines in the 3D viewer.</p>
<p>The <em class="guilabel">Render tracks</em> checkbox can be used to prevent the rendering of stremalines
in the 3D viewer. If <em class="guilabel">Auto aggregate</em> is enabled while <em class="guilabel">Render tracks</em>
is disabled, cluster assignments will still be visible in the cluster list and will be updated
as you interact with the clustering widgets.</p>
<p>The <em class="guilabel">Render clusters</em> checkbox used to render glyphs that summarize each cluster. This
functionality no longer works.</p>
</div>
<div class="section" id="changing-the-appearance-of-streamlines">
<h3>Changing the appearance of streamlines<a class="headerlink" href="#changing-the-appearance-of-streamlines" title="Permalink to this headline">¶</a></h3>
</div>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table Of Contents</h3>
          <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installing DSI2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../preprocessing/preproc.html">Preparing data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../analysis/overview.html">Organizing your local datasource</a></li>
<li class="toctree-l1"><a class="reference internal" href="../analysis/ltpa.html">Accessing and analyzing your data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../analysis/aggregation.html">Creating a streamline aggregator</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Browsing the Streamline Database</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#the-browser-builder-creating-a-data-source">The Browser Builder: Creating a Data Source</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#red-box-data-source-and-aggregator">Red box: Data source and aggregator</a></li>
<li class="toctree-l3"><a class="reference internal" href="#blue-box-specifying-data-source-properties">Blue Box: Specifying data source properties</a></li>
<li class="toctree-l3"><a class="reference internal" href="#green-box-matching-datasets">Green Box: Matching datasets</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#the-voxel-browser-querying-and-visualizing-streamlines">The Voxel Browser: Querying and visualizing streamlines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#selecting-coordinates-using-a-sphere">Selecting Coordinates: Using a sphere</a></li>
<li class="toctree-l3"><a class="reference internal" href="#selecting-coordinates-from-a-roi">Selecting Coordinates: From a ROI</a></li>
<li class="toctree-l3"><a class="reference internal" href="#visualizing-streamlines">Visualizing Streamlines</a></li>
<li class="toctree-l3"><a class="reference internal" href="#changing-the-appearance-of-streamlines">Changing the appearance of streamlines</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          <h3 style="margin-top: 1.5em;">Search</h3>
          <form class="search" action="../search.html" method="get">
            <input type="text" name="q" />
            <input type="submit" value="Go" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
          </form>
          <p class="searchtip" style="font-size: 90%">
            Enter search terms or a module, class or function name.
          </p>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <a href="../analysis/aggregation.html" title="Creating a streamline aggregator"
             >previous</a> |
          <a href="../genindex.html" title="General Index"
             >index</a>
            <br/>
            <a href="../_sources/workflows/browsing.txt"
               rel="nofollow">Show Source</a>
        </div>

        <div class="right">
          
    <div class="footer">
        &copy; Copyright 2013, Matt Cieslak.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>